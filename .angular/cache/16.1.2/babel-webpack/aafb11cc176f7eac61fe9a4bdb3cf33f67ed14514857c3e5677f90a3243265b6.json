{"ast":null,"code":"import _asyncToGenerator from \"E:/ProgrammingFiles/projects/gameinfoweb/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/web-backend.service\";\nimport * as i3 from \"@angular/common\";\nfunction GameViewComponent_p_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 7)(1, \"span\")(2, \"a\", 15);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const website_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"href\", website_r5.url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(website_r5.url);\n  }\n}\nfunction GameViewComponent_span_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const genrename_r7 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(genrename_r7.name ? genrename_r7.name + \", \" : \"Action, Sci-fi, Racing\");\n  }\n}\nfunction GameViewComponent_span_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const genrename_r8 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(genrename_r8.name ? genrename_r8.name + \", \" : \"Action, Sci-fi, Racing\");\n  }\n}\nfunction GameViewComponent_span_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const platformname_r9 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(platformname_r9.name ? platformname_r9.name + \", \" : \"Wii, Windows (PC), Xbox\");\n  }\n}\nfunction GameViewComponent_p_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"span\")(2, \"a\", 15);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const website_r10 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"href\", website_r10.url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(website_r10.url);\n  }\n}\nexport let GameViewComponent = /*#__PURE__*/(() => {\n  class GameViewComponent {\n    constructor(route, clientAPI) {\n      this.route = route;\n      this.clientAPI = clientAPI;\n      this.genreIDs = [];\n      this.coverUrl = \"\";\n      this.platformNames = [];\n      this.websites = [];\n      this.defaultImage = \"../../../assets/nodataImage.png\";\n      this.genreNames = [];\n    }\n    checkCoverUrl(url) {\n      if (url) {\n        return url;\n      } else {\n        return this.defaultImage;\n      }\n    }\n    setUpGameViewData() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        let querySubs = yield _this.route.queryParamMap.subscribe(value => {\n          _this.id = value.get(\"id\");\n        });\n        querySubs.unsubscribe();\n        // request more info here\n        // get gameinfo\n        yield _this.clientAPI.getsingleGameInfo(_this.id).then( /*#__PURE__*/function () {\n          var _ref = _asyncToGenerator(function* (body) {\n            let bodysubs = yield body.subscribe( /*#__PURE__*/function () {\n              var _ref2 = _asyncToGenerator(function* (body) {\n                let results = Object.values(body);\n                //console.log(results[0]);\n                _this.genreIDs = results[0].genres;\n                _this.name = results[0].name;\n                _this.description = results[0].summary;\n                // get genre names\n                yield _this.clientAPI.getGenreNames(_this.genreIDs).then( /*#__PURE__*/function () {\n                  var _ref3 = _asyncToGenerator(function* (data) {\n                    let subs = data.subscribe( /*#__PURE__*/function () {\n                      var _ref4 = _asyncToGenerator(function* (value) {\n                        _this.genreNames = Object.values(value);\n                        //console.log(this.genreNames.length);\n                        if (_this.genreNames) {\n                          subs.unsubscribe();\n                        }\n                      });\n                      return function (_x4) {\n                        return _ref4.apply(this, arguments);\n                      };\n                    }());\n                  });\n                  return function (_x3) {\n                    return _ref3.apply(this, arguments);\n                  };\n                }());\n                //get cover\n                yield _this.clientAPI.getGameCover(_this.id).then( /*#__PURE__*/function () {\n                  var _ref5 = _asyncToGenerator(function* (data) {\n                    let subs = yield data.subscribe(value => {\n                      let cover;\n                      cover = Object.values(value)[0];\n                      _this.coverUrl = cover.url;\n                      if (cover) {\n                        subs.unsubscribe();\n                      }\n                    });\n                  });\n                  return function (_x5) {\n                    return _ref5.apply(this, arguments);\n                  };\n                }());\n                // get platforms name\n                yield _this.clientAPI.getPlatformNames(results[0].platforms).then( /*#__PURE__*/function () {\n                  var _ref6 = _asyncToGenerator(function* (data) {\n                    let subs = yield data.subscribe( /*#__PURE__*/function () {\n                      var _ref7 = _asyncToGenerator(function* (value) {\n                        _this.platformNames = yield Object.values(value);\n                        if (_this.platformNames) {\n                          subs.unsubscribe();\n                        }\n                      });\n                      return function (_x7) {\n                        return _ref7.apply(this, arguments);\n                      };\n                    }());\n                  });\n                  return function (_x6) {\n                    return _ref6.apply(this, arguments);\n                  };\n                }());\n                // get website names\n                yield _this.clientAPI.getsingleGameWebsites(_this.id).then( /*#__PURE__*/function () {\n                  var _ref8 = _asyncToGenerator(function* (data) {\n                    let subs = yield data.subscribe( /*#__PURE__*/function () {\n                      var _ref9 = _asyncToGenerator(function* (value) {\n                        _this.websites = yield Object.values(value);\n                        if (_this.websites) {\n                          subs.unsubscribe();\n                        }\n                      });\n                      return function (_x9) {\n                        return _ref9.apply(this, arguments);\n                      };\n                    }());\n                  });\n                  return function (_x8) {\n                    return _ref8.apply(this, arguments);\n                  };\n                }());\n                if (results) {\n                  bodysubs.unsubscribe();\n                }\n              });\n              return function (_x2) {\n                return _ref2.apply(this, arguments);\n              };\n            }());\n          });\n          return function (_x) {\n            return _ref.apply(this, arguments);\n          };\n        }());\n      })();\n    }\n    ngOnInit() {\n      var _this2 = this;\n      setTimeout( /*#__PURE__*/_asyncToGenerator(function* () {\n        yield _this2.setUpGameViewData();\n      }), 500);\n    }\n  }\n  GameViewComponent.ɵfac = function GameViewComponent_Factory(t) {\n    return new (t || GameViewComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.WebBackendService));\n  };\n  GameViewComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: GameViewComponent,\n    selectors: [[\"app-game-view\"]],\n    decls: 38,\n    vars: 9,\n    consts: [[\"id\", \"gameview-base-divcontainer\"], [\"id\", \"gameview-banner-divcontainer\"], [\"id\", \"website-urlcontainer\"], [\"id\", \"sites-style-desktop-container\"], [\"class\", \"hide-desktopview\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"gamesubheader-divcontainer\"], [\"loading\", \"lazy\", \"alt\", \"\", \"srcset\", \"\", 3, \"src\"], [1, \"hide-desktopview\"], [4, \"ngFor\", \"ngForOf\"], [1, \"hide-mobileview\"], [\"id\", \"content-container\"], [\"id\", \"genre-sectionContainer\", 1, \"hide-mobileview\"], [\"id\", \"platform-sectionContainer\"], [\"id\", \"summary-sectionContainer\"], [\"id\", \"websites-sectionContainer\", 1, \"hide-mobileview\"], [3, \"href\"]],\n    template: function GameViewComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h3\", 3);\n        i0.ɵɵtext(4, \"Websites\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(5, GameViewComponent_p_5_Template, 4, 2, \"p\", 4);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"div\", 5);\n        i0.ɵɵelement(7, \"img\", 6);\n        i0.ɵɵelementStart(8, \"div\")(9, \"h2\", 7);\n        i0.ɵɵtext(10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"h3\", 7);\n        i0.ɵɵtext(12, \"Genres: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"p\", 7);\n        i0.ɵɵtemplate(14, GameViewComponent_span_14_Template, 2, 1, \"span\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"h1\", 9);\n        i0.ɵɵtext(16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(17, \"p\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(18, \"div\", 10)(19, \"section\", 11)(20, \"h3\");\n        i0.ɵɵtext(21, \"Genres:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"p\");\n        i0.ɵɵtemplate(23, GameViewComponent_span_23_Template, 2, 1, \"span\", 8);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(24, \"section\", 12)(25, \"h3\");\n        i0.ɵɵtext(26, \"Platforms:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"p\");\n        i0.ɵɵtemplate(28, GameViewComponent_span_28_Template, 2, 1, \"span\", 8);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(29, \"section\", 13)(30, \"h3\");\n        i0.ɵɵtext(31, \"Summary: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"p\");\n        i0.ɵɵtext(33);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(34, \"section\", 14)(35, \"h3\");\n        i0.ɵɵtext(36, \"Websites:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(37, GameViewComponent_p_37_Template, 4, 2, \"p\", 8);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.websites);\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate(\"src\", ctx.checkCoverUrl(ctx.coverUrl), i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.name);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.genreNames);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.name);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngForOf\", ctx.genreNames);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.platformNames);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.description);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.websites);\n      }\n    },\n    dependencies: [i3.NgForOf],\n    styles: [\"#gameview-base-divcontainer[_ngcontent-%COMP%]{color:#fff;height:min-content;padding-bottom:7em;background-color:#061c25}.hide-desktopview[_ngcontent-%COMP%]{display:none}#gameview-banner-divcontainer[_ngcontent-%COMP%]{width:100% auto;height:13em;background:linear-gradient(140deg,#E76F51 40%,#2A9E90)}#gameview-banner-divcontainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;image-rendering:pixelated;image-rendering:crisp-edges;opacity:.06}#gamesubheader-divcontainer[_ngcontent-%COMP%]{display:flex;transform:translateY(-50%)}#gamesubheader-divcontainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:sticky;transform:translate(11%);z-index:6;width:35%;height:6em;border-radius:100%;border:.3em solid #1B3D38;box-shadow:0 0 .2em .1em #000}#gamesubheader-divcontainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-top:2.3em;font-size:.5em;padding-left:4em;color:#fff;width:100%;height:7em;z-index:5;background:linear-gradient(90deg,#152830 60%,#2A9E90);box-shadow:0 .5em .5em #041218}#content-container[_ngcontent-%COMP%]{transform:translateY(-5%);margin:0 2em;padding:0 1em}#content-container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{margin-bottom:3em}#websites-sectionContainer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{list-style-type:none;text-decoration:none;color:#fff;font-size:.8em}#websites-sectionContainer[_ngcontent-%COMP%]{overflow:hidden}h3[_ngcontent-%COMP%]{font-size:1em;color:#61a7c2;margin-bottom:-1em;padding:0}@media screen and (min-width: 520px){#gamesubheader-divcontainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:translate(11%);margin-left:2em;width:20%;height:7em;border-radius:0;border:0;box-shadow:0 0 .2em .1em #000}}@media screen and (min-width: 800px){#gamesubheader-divcontainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:translate(11%);width:20%;height:8em;box-shadow:0 0 .2em .1em #000}}@media screen and (min-width: 1200px){.hide-mobileview[_ngcontent-%COMP%]{display:none}#sites-style-desktop-container[_ngcontent-%COMP%]{background-color:#9d3f27;color:#fff;padding:.5em;margin-bottom:.5em}#website-urlcontainer[_ngcontent-%COMP%]{overflow:scroll}#website-urlcontainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inherit}#website-urlcontainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;padding:1em}#content-container[_ngcontent-%COMP%]{transform:0;width:40%;text-align:left;padding:0 1em;margin:0 auto}#summary-sectionContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #platform-sectionContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2em}h3[_ngcontent-%COMP%]{font-size:1.5em}#website-urlcontainer[_ngcontent-%COMP%]{margin-top:7em;width:25%;height:17em;margin-right:5em;float:right;background-color:#e76f51;box-shadow:0 .2em .5em #020202}#gamesubheader-divcontainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #gamesubheader-divcontainer[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], #gamesubheader-divcontainer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:inherit}#gamesubheader-divcontainer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:4em;position:absolute;z-index:500;transform:translateY(-2em)}#gamesubheader-divcontainer[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:4em;transform:translateY(-2em);margin-bottom:0;padding-bottom:0}#gamesubheader-divcontainer[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding:0;margin:0;font-size:3em}#gamesubheader-divcontainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:3em;font-weight:700}#gamesubheader-divcontainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:20em;transform:translate(11%);width:15%;height:8em;box-shadow:0 0 .2em .1em #000}#gameview-banner-divcontainer[_ngcontent-%COMP%]{width:100% auto;height:30em;background:linear-gradient(140deg,#E76F51 40%,#2A9E90)}#gamesubheader-divcontainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-top:2.3em;font-size:.5em;padding-left:4em;color:#fff;width:100%;height:12em;z-index:5;background:linear-gradient(90deg,#152830 60%,#2A9E90);box-shadow:0 .5em .5em #041218}}@media screen and (min-width: 1400px){#gamesubheader-divcontainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:translate(11%);width:12%;height:10em;box-shadow:0 0 .2em .1em #000}}\"]\n  });\n  return GameViewComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}