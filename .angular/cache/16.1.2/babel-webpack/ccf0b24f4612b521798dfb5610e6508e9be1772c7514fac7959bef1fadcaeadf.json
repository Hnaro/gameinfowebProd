{"ast":null,"code":"import _asyncToGenerator from \"E:/ProgrammingFiles/projects/gameinfoweb/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component, EventEmitter, Output } from '@angular/core';\nexport let SelectionComponent = class SelectionComponent {\n  constructor(clientAPI, searchService) {\n    this.clientAPI = clientAPI;\n    this.searchService = searchService;\n    this.selectedIDS = new EventEmitter();\n    this.isSelectionActive = false;\n    this.selectedids = [];\n    this.firstClicked = true;\n    this.genres = [];\n    //searchService.setSearchedGenres = [{id: 1, name:\"test1\"},{id: 2, name:\"test2\"}]\n  }\n\n  ngOnInit() {\n    this.setUpGenreIDs();\n  }\n  setUpGenreIDs() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      // client\n      _this.clientAPI.getAllGenreNames().then(data => {\n        let subs = data.subscribe(value => {\n          _this.genres = Object.values(value);\n          if (_this.genres) {\n            subs.unsubscribe();\n          }\n        });\n      });\n      //console.log(this.searchService.getSearchedGenres);\n    })();\n  }\n  // gets the selected ids and throw it back to search bar\n  // each button for selecting ids will have this\n  selectID(ids) {\n    //  store selectedIds\n    if (this.firstClicked) {\n      this.firstClicked = false;\n      this.selectedids.push(ids);\n      return;\n    }\n    this.firstClicked = true;\n  }\n  filterSearch() {\n    //console.log(this.selectedids)\n    this.selectedIDS.emit(this.selectedids);\n    this.selectedids = [];\n    this.isSelectionActive = false;\n  }\n  isChecked(id) {\n    return this.selectedids.filter(value => {\n      return value === id;\n    });\n  }\n  showSelections() {\n    if (this.isSelectionActive) {\n      // emit data here\n      // get selected ids\n      // if id is selected\n      this.isSelectionActive = false;\n      return;\n    }\n    this.isSelectionActive = true;\n  }\n  showSelectionsMouseOver() {\n    this.isSelectionActive = true;\n  }\n  hideSelectionsMouseOut() {\n    this.isSelectionActive = false;\n  }\n};\n__decorate([Output()], SelectionComponent.prototype, \"selectedIDS\", void 0);\nSelectionComponent = __decorate([Component({\n  selector: 'app-selection',\n  templateUrl: './selection.component.html',\n  styleUrls: ['./selection.component.css']\n})], SelectionComponent);","map":{"version":3,"names":["Component","EventEmitter","Output","SelectionComponent","constructor","clientAPI","searchService","selectedIDS","isSelectionActive","selectedids","firstClicked","genres","ngOnInit","setUpGenreIDs","_this","_asyncToGenerator","getAllGenreNames","then","data","subs","subscribe","value","Object","values","unsubscribe","selectID","ids","push","filterSearch","emit","isChecked","id","filter","showSelections","showSelectionsMouseOver","hideSelectionsMouseOut","__decorate","selector","templateUrl","styleUrls"],"sources":["E:\\ProgrammingFiles\\projects\\gameinfoweb\\src\\app\\components\\selection\\selection.component.ts"],"sourcesContent":["import { Component, EventEmitter, OnInit, Output } from '@angular/core';\r\nimport { SearchService } from 'src/app/services/search.service';\r\nimport { WebBackendService } from 'src/app/services/web-backend.service';\r\n\r\n@Component({\r\n  selector: 'app-selection',\r\n  templateUrl: './selection.component.html',\r\n  styleUrls: ['./selection.component.css']\r\n})\r\nexport class SelectionComponent implements OnInit {\r\n  @Output() selectedIDS = new EventEmitter;\r\n\r\n  isSelectionActive: boolean = false;\r\n\r\n  selectedids: number[] = [];\r\n  genres: any[];\r\n  firstClicked: boolean = true;\r\n  constructor(private clientAPI: WebBackendService, private searchService: SearchService) {\r\n    this.genres = [];\r\n    //searchService.setSearchedGenres = [{id: 1, name:\"test1\"},{id: 2, name:\"test2\"}]\r\n  }\r\n  ngOnInit(): void {\r\n    this.setUpGenreIDs();\r\n  }\r\n  async setUpGenreIDs() {\r\n    // client\r\n    this.clientAPI.getAllGenreNames().then(data => {\r\n      let subs = data.subscribe(value => {\r\n        this.genres = Object.values(value);\r\n        if (this.genres) {\r\n          subs.unsubscribe();\r\n        }\r\n      })\r\n    })\r\n    //console.log(this.searchService.getSearchedGenres);\r\n  }\r\n  // gets the selected ids and throw it back to search bar\r\n  // each button for selecting ids will have this\r\n  selectID(ids: number){\r\n    //  store selectedIds\r\n    if (this.firstClicked) {\r\n      this.firstClicked = false;\r\n      this.selectedids.push(ids);\r\n      return\r\n    }\r\n    this.firstClicked = true;\r\n  }\r\n  filterSearch() {\r\n    //console.log(this.selectedids)\r\n    this.selectedIDS.emit(this.selectedids);\r\n    this.selectedids = [];\r\n    this.isSelectionActive = false;\r\n  }\r\n  isChecked(id: number) {\r\n    return this.selectedids.filter(value => {\r\n      return  value === id;\r\n    })\r\n  }\r\n  showSelections() {\r\n    if (this.isSelectionActive) {\r\n      // emit data here\r\n      // get selected ids\r\n      // if id is selected\r\n      this.isSelectionActive = false;\r\n      return;\r\n    }\r\n    this.isSelectionActive = true;\r\n  }\r\n  showSelectionsMouseOver() {\r\n    this.isSelectionActive = true;\r\n  }\r\n  hideSelectionsMouseOut() {\r\n    this.isSelectionActive = false;\r\n  }\r\n}\r\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,YAAY,EAAUC,MAAM,QAAQ,eAAe;AAShE,WAAMC,kBAAkB,GAAxB,MAAMA,kBAAkB;EAQ7BC,YAAoBC,SAA4B,EAAUC,aAA4B;IAAlE,KAAAD,SAAS,GAATA,SAAS;IAA6B,KAAAC,aAAa,GAAbA,aAAa;IAP7D,KAAAC,WAAW,GAAG,IAAIN,YAAY,CAAZ,CAAY;IAExC,KAAAO,iBAAiB,GAAY,KAAK;IAElC,KAAAC,WAAW,GAAa,EAAE;IAE1B,KAAAC,YAAY,GAAY,IAAI;IAE1B,IAAI,CAACC,MAAM,GAAG,EAAE;IAChB;EACF;;EACAC,QAAQA,CAAA;IACN,IAAI,CAACC,aAAa,EAAE;EACtB;EACMA,aAAaA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MACjB;MACAD,KAAI,CAACT,SAAS,CAACW,gBAAgB,EAAE,CAACC,IAAI,CAACC,IAAI,IAAG;QAC5C,IAAIC,IAAI,GAAGD,IAAI,CAACE,SAAS,CAACC,KAAK,IAAG;UAChCP,KAAI,CAACH,MAAM,GAAGW,MAAM,CAACC,MAAM,CAACF,KAAK,CAAC;UAClC,IAAIP,KAAI,CAACH,MAAM,EAAE;YACfQ,IAAI,CAACK,WAAW,EAAE;;QAEtB,CAAC,CAAC;MACJ,CAAC,CAAC;MACF;IAAA;EACF;EACA;EACA;EACAC,QAAQA,CAACC,GAAW;IAClB;IACA,IAAI,IAAI,CAAChB,YAAY,EAAE;MACrB,IAAI,CAACA,YAAY,GAAG,KAAK;MACzB,IAAI,CAACD,WAAW,CAACkB,IAAI,CAACD,GAAG,CAAC;MAC1B;;IAEF,IAAI,CAAChB,YAAY,GAAG,IAAI;EAC1B;EACAkB,YAAYA,CAAA;IACV;IACA,IAAI,CAACrB,WAAW,CAACsB,IAAI,CAAC,IAAI,CAACpB,WAAW,CAAC;IACvC,IAAI,CAACA,WAAW,GAAG,EAAE;IACrB,IAAI,CAACD,iBAAiB,GAAG,KAAK;EAChC;EACAsB,SAASA,CAACC,EAAU;IAClB,OAAO,IAAI,CAACtB,WAAW,CAACuB,MAAM,CAACX,KAAK,IAAG;MACrC,OAAQA,KAAK,KAAKU,EAAE;IACtB,CAAC,CAAC;EACJ;EACAE,cAAcA,CAAA;IACZ,IAAI,IAAI,CAACzB,iBAAiB,EAAE;MAC1B;MACA;MACA;MACA,IAAI,CAACA,iBAAiB,GAAG,KAAK;MAC9B;;IAEF,IAAI,CAACA,iBAAiB,GAAG,IAAI;EAC/B;EACA0B,uBAAuBA,CAAA;IACrB,IAAI,CAAC1B,iBAAiB,GAAG,IAAI;EAC/B;EACA2B,sBAAsBA,CAAA;IACpB,IAAI,CAAC3B,iBAAiB,GAAG,KAAK;EAChC;CACD;AAhEW4B,UAAA,EAATlC,MAAM,EAAE,C,sDAAgC;AAD9BC,kBAAkB,GAAAiC,UAAA,EAL9BpC,SAAS,CAAC;EACTqC,QAAQ,EAAE,eAAe;EACzBC,WAAW,EAAE,4BAA4B;EACzCC,SAAS,EAAE,CAAC,2BAA2B;CACxC,CAAC,C,EACWpC,kBAAkB,CAiE9B"},"metadata":{},"sourceType":"module","externalDependencies":[]}